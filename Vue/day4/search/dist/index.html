<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id="demo">
        <input v-model="search" />
        <p v-html="textEn"></p>
    </div>
</body>
<script src="../../../vue.js"></script>
<script>
    // Vue.filter("highlight", function(text, value) {
    //     if (value) {
    //         var arr = text.split(value);
    //         var output = arr.join("<span style='background: yellow'>" + value + "</span>");
    //         return output;
    //     } else {
    //         return text;
    //     }

    // });

    let vm = new Vue({
        el: "#demo",
        data: {
            search: "梦想",
            text: '<p>创作海贼故事是尾田荣一郎长久以来的梦想，他小时候一直很好奇为什么没有什么漫画以海贼为主题，他顶多只知道有《北海小英雄》这部动画。他认为男孩长到某个年纪后应该就会想要出海寻宝才对。尾田从小就很想看海贼的漫画，那个时候他对自己说，如果要自己画的话，那就一定会画海贼的故事。不管作品卖不卖得掉，他都是作好了心理准备才会这么选择的，纯粹就是他自己想看而已</p>'
        },
        // template: `<div>

        //           </div>`,
        computed: {
            textEn() {
                if (this.search) {
                    var arr = this.text.split(this.search);
                    var output = arr.join(`<span style='background: yellow'>${this.search}</span>`);
                    return output;
                } else {
                    return this.text;
                }
            }
        }
    });
</script>

</html>